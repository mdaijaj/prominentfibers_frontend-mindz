<section>
    <div>
      <mat-card>
        <div class="row form_head">
          <h3 style="display: contents;">BASIC DETAILS (In Payroll)</h3>
            <div class="example-section">
                <mat-label class="lebel">Edit Mode</mat-label>
                <input class="checkboxFeild" (change)="changeEditMode($event)" [checked]="toggleEditMode"
                    value="Pay Now" type="checkbox" name="check">
            </div>
        </div>
  
        <div class="form_basic">
          <form class="form_set" [formGroup]="basicForm">
            <div class="row">
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline" readonly>
                    <mat-label>Mr./Mrs</mat-label>
                    <mat-select formControlName="title">
                      <mat-option value="Mr">Mr</mat-option>
                      <mat-option value="Mrs">Mrs</mat-option>
                    </mat-select>
                    <mat-error *ngIf="basicForm.controls['title'].hasError('required')">
                      This field is required!
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
  
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Official Email Id</mat-label>
                    <input matInput type="email" formControlName="personal_email" />
  
                  </mat-form-field>
                </div>
              </div>
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Employee Code</mat-label>
                    <input matInput type="text" formControlName="employee_code" />
                  </mat-form-field>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>First Name</mat-label>
                    <input matInput maxlength="30" type="text" formControlName="first_name"
                      [value]="basicForm.controls['first_name'].value | titlecase" />
                    <mat-error *ngIf="
                        basicForm.controls['first_name'].hasError('required')
                      ">
                      This field is required!
                    </mat-error>
                    <mat-error *ngIf="
                        basicForm.controls['first_name'].hasError('minlength')
                      ">
                      Minimum 1 character is required!
                    </mat-error>
                    <mat-error *ngIf="
                        basicForm.controls['first_name'].hasError('maxlength')
                      ">
                      Accepts only 20 characters.
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Middle Name</mat-label>
                    <input matInput type="text" maxlength="10" formControlName="middle_name" [value]="
                        basicForm.controls['middle_name'].value | titlecase" />
                  </mat-form-field>
                </div>
              </div>
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Last Name</mat-label>
                    <input matInput type="text" maxlength="30" formControlName="last_name"
                      [value]="basicForm.controls['last_name'].value | titlecase" />
                    <mat-error *ngIf="basicForm.controls['last_name'].hasError('required')">
                      This field is required!
                    </mat-error>
                    <mat-error *ngIf="
                        basicForm.controls['last_name'].hasError('minlength')
                      ">
                      Minimum 1 characters required!
                    </mat-error>
                    <mat-error *ngIf="
                        basicForm.controls['last_name'].hasError('maxlength')
                      ">
                      Accepts only 20 characters.
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Gender</mat-label>
                    <mat-select formControlName="gender">
                      <mat-option value="male">Male</mat-option>
                      <mat-option value="female">Female</mat-option>
                      <mat-option value="transgender">Other</mat-option>
                    </mat-select>
                    <mat-error *ngIf="basicForm.controls['gender'].hasError('required')">
                      This field is required!
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Employement Type</mat-label>
                    <mat-select (selectionChange)="typeChange($event)" formControlName="emplyoment_type">
                      <mat-option *ngFor="let type of employmentlist"
                        [value]="type.emptype_name">{{type.emptype_name}}</mat-option>
                      <!-- <mat-option value="Full Time">Full Time</mat-option>
                        <mat-option value="Part Time">Part Time</mat-option> -->
                    </mat-select>
                    <mat-error *ngIf="
                        basicForm.controls['emplyoment_type'].hasError('required')
                      ">
                      This field is required!
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Segment/SBU</mat-label>
                    <mat-select formControlName="segment_suv">
                      <mat-option value="MSA">MSA</mat-option>
                      <mat-option value="MEDICAL">MEDICAL</mat-option>
                    </mat-select>
                    <mat-error *ngIf="
                        basicForm.controls['segment_suv'].hasError('required')
                      ">
                      This field is required!
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Designation</mat-label>
                    <mat-select formControlName="designation">
                      <mat-option *ngFor="let desi of getAllDesignation"
                        [value]="desi.designation_name">{{desi.designation_name}}</mat-option>
                    </mat-select>
                    <!-- <span *ngIf="basicForm.controls['emplyoment_type'].value =='Full Time'">
                    <mat-error  *ngIf="
                        basicForm.controls['designation_name'].hasError('required') 
                      ">
                      This field is required!
                    </mat-error>
                  </span> -->
                  </mat-form-field>
                </div>
              </div>
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Date Of Birth</mat-label>
                    <input matInput [matDatepicker]="dp" (click)="dp.open()" formControlName="date_of_birth"
                      [max]="max" />
                    <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
                    <mat-datepicker #dp></mat-datepicker>
                    <mat-error *ngIf="
                    basicForm.controls['date_of_birth'].hasError('required')
                  ">
                      This field is required!
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Date Of Joinng</mat-label>
                    <input matInput [matDatepicker]="picker2" (click)="picker2.open()"
                      formControlName="date_of_joining" />
                    <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                  </mat-form-field>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Country</mat-label>
                    <mat-select (selectionChange)="countryChange($event)" formControlName="country">
                      <mat-option *ngFor="let country of countryList" [value]="country.countryss_id">{{country.countryss_name}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>State</mat-label>
                    <mat-select (selectionChange)="stateChange($event)" formControlName="state">
                      <mat-option *ngFor="let state of stateList" [value]="state.states_id">{{state.states_name}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>City</mat-label>
                    <mat-select formControlName="city">
                      <mat-option *ngFor="let city of cityList" [value]="city.city_id">{{city.city_name}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Region</mat-label>
                    <mat-select formControlName="region">
                      <mat-option *ngFor="let region of regionlist" [value]="region.new_region_name">{{ region.new_region_name
                        }}</mat-option>
                      <!-- <mat-option value="State">B</mat-option> -->
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Department</mat-label>
                    <mat-select formControlName="department">
                      <mat-option *ngFor="let department of getAllDepartment" [value]="department.department_name">{{
                        department.department_name }}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
  
              <div *ngIf="mainId !== 'undefined'" class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Reporting Manager</mat-label>
                    <mat-select formControlName="reporting_manager_id" (selectionChange)="reportingManagerChange($event)">
                      <mat-option *ngFor="let val of reporting_manager_list" [value]="val.employee_id">{{ val.title }} {{val.first_name}} {{val.last_name}}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="
                        basicForm.controls['reporting_manager_id'].hasError(
                          'required'
                        )
                      ">
                      This field is required!
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
  
  
              <div *ngIf="mainId == 'undefined'" class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Reporting Manager</mat-label>
                    <input matInput type="text" formControlName="reporting_manager" [value]="
                        basicForm.controls['reporting_manager'].value
                          | titlecase
                      " />
                  </mat-form-field>
                </div>
              </div>
  
  
            </div>
  
            <div class="row">
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Reporting Office Location</mat-label>
                    <mat-select formControlName="reporting_office_location">
                      <mat-option *ngFor="let location of officeLocationall" [value]="location.location">{{
                        location.location}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
  
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Work/Physical Location</mat-label>
                    <mat-select formControlName="working_physical_location">
                      <mat-option *ngFor="let location of physicalLocation"
                        [value]="location.work_physical_location_name">{{
                        location.work_physical_location_name}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
  
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Band</mat-label>
                    <mat-select formControlName="band">
                      <mat-option *ngFor="let bandType of getAllBandtype"
                        [value]="bandType.brand_name">{{bandType.brand_name}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Grade</mat-label>
                    <mat-select formControlName="grade">
                      <mat-option *ngFor="let grade of gradelist" [value]="grade.grade_name">{{
                        grade.grade_name}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
  
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <!-- <label>Employee Photo</label> -->
                  <!-- <img class="images" [src]="getData.employee_photo"/> -->
                  <input class="form-control" type="file" style="padding-right: 19%" (change)="onChange($event)"
                    formControlName="employee_photo" placeholder="Employee Photo" />
                  <img [src]="imagePath?imagePath:getData?.employee_photo" *ngIf="imagePath || getData?.employee_photo"
                    alt="emp image" class="imgEmp" (click)="seePreview(getData?.employee_photo, imagePath)" />
  
                  <!-- <i class="material-icons file_delete">delete</i> -->
                </div>
              </div>
  
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Mobile No</mat-label>
                    <input matInput type="text" formControlName="mobile_number" />
                    <mat-error *ngIf="basicForm.controls['mobile_number'].hasError('required')"> This field is required</mat-error>
                    <mat-error *ngIf=" basicForm.controls['mobile_number'].hasError('pattern')">  It is not a valid mobile number</mat-error>
                  </mat-form-field>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Personal Email Id</mat-label>
                    <input matInput type="text" formControlName="employee_official_email" />
                    <mat-error *ngIf="
                    basicForm.controls['employee_official_email'].hasError('required')
                  ">
                      Personal Email Id is Required.
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
  
              <!-- <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Probation Status</mat-label>
                    <mat-select formControlName="probation">
                      <mat-option value="ACTIVE">Active</mat-option>
                      <mat-option value="INACTIVE">Inactive</mat-option>
                    </mat-select>
                    <mat-error *ngIf="basicForm.controls['probation'].hasError('required')">
                      This field is required!
                    </mat-error>
                  </mat-form-field>
                </div>
              </div> -->
  
              <div class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Status</mat-label>
                    <mat-select formControlName="status">
                      <mat-option value="ACTIVE">Active</mat-option>
                      <mat-option value="INACTIVE">Inactive</mat-option>
                    </mat-select>
                    <!-- <mat-error *ngIf="basicForm.controls['status'].hasError('required')">
                      This field is required!
                    </mat-error> -->
                  </mat-form-field>
                </div>
              </div>
  
              <div *ngIf="basicForm.controls['emplyoment_type'].value =='Full Time'"
                class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Assign Role</mat-label>
                    <mat-select formControlName="user_role">
                      <mat-option *ngFor="let role of allRoleMaster"
                        [value]="role.role_master_id">{{role.role_master_name}}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="basicForm.controls['user_role'].hasError('required')">
                      This field is required!
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
  
              <!-- <div *ngIf="basicForm.controls['emplyoment_type'].value =='Part Time'" class="col-xxl-4 col-lg-4 col-md-4 col-sm-4 col-12">
                <div class="form-group">
                  <mat-form-field appearance="outline">
                    <mat-label>Assign Role</mat-label>
                    <mat-select  formControlName="user_role">
                      <mat-option
                        value="user">User</mat-option>
                    </mat-select>
                    
                  </mat-form-field>
                </div>
              </div> -->
  
            </div>
            <div class="mt-3">
              <button (click)="onSubmitForm()" mat-raised-button color="primary" class="mx-3" [class.spinner]="loading" [disabled]="!toggleEditMode || loading" >
                Update
              </button>
              <button mat-raised-button color="warn" (click)="skip()">
                Skip
              </button>
            </div>
          </form>
        </div>
      </mat-card>
    </div>
  </section>
  